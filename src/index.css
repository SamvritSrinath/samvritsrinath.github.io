@import './styles/design-tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Light Mode - Blue Sky/Cosmic Day */
    --bg-primary: 240 245 255; /* Light blue-white HSL */
    --bg-secondary: 225 235 250;
    --bg-cosmic: linear-gradient(180deg, #e3f2fd 0%, #bbdefb 100%);

    --glass-bg: rgba(255, 255, 255, 0.4);
    --glass-border: rgba(100, 150, 255, 0.3);
    --glass-shadow: rgba(33, 150, 243, 0.1);

    --text-primary: 220 40 10; /* Dark blue-gray */
    --text-secondary: 220 20 40;
    --text-accent: 210 100 50; /* Bright blue */

    --nebula-start: rgba(100, 181, 246, 0.15);
    --nebula-mid: rgba(66, 165, 245, 0.1);
    --nebula-end: rgba(33, 150, 243, 0.05);

    --accent-cyan: 187 100 45; /* Sky blue */
    --accent-blue: 207 90 54; /* Azure */
    --accent-indigo: 231 48 48; /* Soft indigo */

    /* Performance optimizations */
    --blur-amount: 20px;
    --backdrop-saturate: 150%;

    /* Legacy Tailwind compatibility */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-primary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-primary);
    --popover-foreground: var(--text-primary);
    --primary: var(--accent-blue);
    --primary-foreground: 210 40% 98%;
    --secondary: var(--bg-secondary);
    --secondary-foreground: var(--text-primary);
    --muted: var(--bg-secondary);
    --muted-foreground: var(--text-secondary);
    --accent: var(--accent-cyan);
    --accent-foreground: var(--text-primary);
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: var(--accent-blue);
    --radius: 0.5rem;

    /* Gradient text colors - complementary to light mode background */
    --gradient-text-start: 200 50% 40%; /* Muted cyan for contrast */
    --gradient-text-mid: 280 45% 45%; /* Muted purple for contrast */
    --gradient-text-end: 340 50% 50%; /* Muted pink for contrast */
    --gradient-text-blue: 207 60% 45%; /* Muted blue for tertiary gradient */
  }

  [data-theme='dark'] {
    /* Dark Mode - Deep Space/Cosmic Night */
    --bg-primary: 220 30 8; /* Deep space blue-black */
    --bg-secondary: 220 40 12;
    --bg-cosmic: linear-gradient(180deg, #0a1929 0%, #1a237e 100%);

    --glass-bg: rgba(15, 30, 60, 0.3);
    --glass-border: rgba(100, 180, 255, 0.2);
    --glass-shadow: rgba(33, 150, 243, 0.2);

    --text-primary: 210 40 98; /* Off-white */
    /* Slightly dimmer secondary text for dark mode (used by --muted-foreground) */
    --text-secondary: 210 18 78;
    --text-accent: 199 100 60; /* Bright cyan-blue */

    --nebula-start: rgba(33, 150, 243, 0.2);
    --nebula-mid: rgba(30, 136, 229, 0.15);
    --nebula-end: rgba(25, 118, 210, 0.1);

    --accent-cyan: 187 100 60; /* Bright cyan */
    --accent-blue: 207 90 65; /* Electric blue */
    --accent-indigo: 231 60 65; /* Bright indigo */

    --blur-amount: 24px;
    --backdrop-saturate: 180%;

    /* Legacy Tailwind compatibility */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    --card: var(--bg-primary);
    --card-foreground: var(--text-primary);
    --popover: var(--bg-primary);
    --popover-foreground: var(--text-primary);
    --primary: var(--accent-blue);
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: var(--text-primary);
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: var(--text-secondary);
    --accent: var(--accent-cyan);
    --accent-foreground: var(--text-primary);
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: var(--accent-blue);

    /* Gradient text colors - complementary to dark mode background */
    --gradient-text-start: 180 70% 60%; /* Muted bright cyan for contrast */
    --gradient-text-mid: 260 60% 65%; /* Muted bright purple for contrast */
    --gradient-text-end: 320 70% 70%; /* Muted bright pink for contrast */
    --gradient-text-blue: 207 70% 55%; /* Muted bright blue for tertiary gradient */
  }

  /* Theme transition - smooth but instant feeling */
  * {
    transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
      border-color 0.3s cubic-bezier(0.4, 0, 0.2, 1),
      color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Disable transitions during theme switch to prevent lag */
  .theme-transitioning * {
    transition: none !important;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    overflow-x: hidden;
    overscroll-behavior-y: none;
  }
  body {
    @apply text-foreground;
    min-height: 100vh;
    overflow-x: hidden;
    overscroll-behavior-y: none;
  }
  #root {
    min-height: 100vh;
    overscroll-behavior-y: none;
  }

  /* Accessibility: Skip link styles */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Focus visible styles for accessibility */
  *:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
  }
}

@layer utilities {
  /* Gradient slow animation for buttons */
  @keyframes gradient-slow {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  .animate-gradient-slow {
    background-size: 200% 200%;
    animation: gradient-slow 6s ease-in-out infinite;
  }

  /* Star twinkling animation */
  @keyframes twinkle {
    0%,
    100% {
      opacity: 0.2;
    }
    50% {
      opacity: 1;
    }
  }

  /* Gradient text utility classes - synced with background */
  .gradient-text-primary {
    background: linear-gradient(
      to right,
      hsl(var(--gradient-text-start)),
      hsl(var(--gradient-text-mid)),
      hsl(var(--gradient-text-end))
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-size: 200% 100%;
    animation: gradient-flow 8s ease infinite;
  }

  .gradient-text-secondary {
    background: linear-gradient(
      to right,
      hsl(var(--gradient-text-mid)),
      hsl(var(--gradient-text-end))
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .gradient-text-tertiary {
    background: linear-gradient(
      to right,
      hsl(var(--gradient-text-start)),
      hsl(var(--gradient-text-blue))
    );
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  @keyframes gradient-flow {
    0%,
    100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
}
